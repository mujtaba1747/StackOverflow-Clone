{"ast":null,"code":"import axios from \"axios\";\nimport { USER_IS_LOADED, AUTH_ERROR } from \"../../Constants/auth.constants\";\nimport setAuthenticationToken from \"../../Middleware/setAuthenticationToken\";\nexport const userLoaded = () => async dispatch => {\n  if (localStorage.getItem(\"token\")) {\n    setAuthenticationToken(localStorage.getItem(\"token\"));\n  }\n\n  try {\n    const res = await axios.get(\"http://localhost:5000/api/users/user/getDetails\");\n    console.log(\"res\", res);\n    dispatch({\n      type: USER_IS_LOADED,\n      payload: res.data\n    });\n  } catch (error) {\n    console.log(error.message);\n    dispatch({\n      type: AUTH_ERROR\n    });\n  }\n};","map":{"version":3,"sources":["/home/mujtaba/Desktop/SLI/QA-Forum/client/src/Actions/Auth.actions/userLoaded.js"],"names":["axios","USER_IS_LOADED","AUTH_ERROR","setAuthenticationToken","userLoaded","dispatch","localStorage","getItem","res","get","console","log","type","payload","data","error","message"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,cAAT,EAAyBC,UAAzB,QAA2C,gCAA3C;AACA,OAAOC,sBAAP,MAAmC,yCAAnC;AAEA,OAAO,MAAMC,UAAU,GAAG,MAAM,MAAOC,QAAP,IAAoB;AAClD,MAAIC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAJ,EAAmC;AACjCJ,IAAAA,sBAAsB,CAACG,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAD,CAAtB;AACD;;AACD,MAAI;AACF,UAAMC,GAAG,GAAG,MAAMR,KAAK,CAACS,GAAN,CAChB,iDADgB,CAAlB;AAGAC,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAZ,EAAmBH,GAAnB;AACAH,IAAAA,QAAQ,CAAC;AACPO,MAAAA,IAAI,EAAEX,cADC;AAEPY,MAAAA,OAAO,EAAEL,GAAG,CAACM;AAFN,KAAD,CAAR;AAID,GATD,CASE,OAAOC,KAAP,EAAc;AACdL,IAAAA,OAAO,CAACC,GAAR,CAAYI,KAAK,CAACC,OAAlB;AACAX,IAAAA,QAAQ,CAAC;AACPO,MAAAA,IAAI,EAAEV;AADC,KAAD,CAAR;AAGD;AACF,CAnBM","sourcesContent":["import axios from \"axios\";\nimport { USER_IS_LOADED, AUTH_ERROR } from \"../../Constants/auth.constants\";\nimport setAuthenticationToken from \"../../Middleware/setAuthenticationToken\";\n\nexport const userLoaded = () => async (dispatch) => {\n  if (localStorage.getItem(\"token\")) {\n    setAuthenticationToken(localStorage.getItem(\"token\"));\n  }\n  try {\n    const res = await axios.get(\n      \"http://localhost:5000/api/users/user/getDetails\"\n    );\n    console.log(\"res\", res);\n    dispatch({\n      type: USER_IS_LOADED,\n      payload: res.data,\n    });\n  } catch (error) {\n    console.log(error.message);\n    dispatch({\n      type: AUTH_ERROR,\n    });\n  }\n};\n"]},"metadata":{},"sourceType":"module"}