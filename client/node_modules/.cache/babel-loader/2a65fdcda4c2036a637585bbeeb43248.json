{"ast":null,"code":"import axios from \"axios\";\nimport { AUTH_FORM_SUCCESS, AUTH_FORM_FAIL } from \"../../Constants/auth.constants\";\nimport { userLoaded } from \"../../Actions/Auth.actions/userLoaded\";\nexport const loginUser = userData => async dispatch => {\n  try {\n    const config = {\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    };\n    const body = JSON.stringify(userData);\n    const response = await axios.post(\"http://localhost:5000/api/user/login\", body, config);\n    console.log(response);\n\n    if (response.data.ClientResp) {\n      dispatch({\n        type: AUTH_FORM_FAIL,\n        payload: response.data.ClientResp\n      });\n      return response.data.ClientResp;\n    } else {\n      dispatch({\n        type: AUTH_FORM_SUCCESS,\n        payload: response.data\n      });\n      console.log(\"user logged in\");\n      dispatch(userLoaded());\n      return \"success\";\n    } //Error handeling\n\n  } catch (error) {\n    dispatch({\n      type: AUTH_FORM_FAIL,\n      payload: error\n    });\n    console.log(\"error\", error);\n  }\n};","map":{"version":3,"sources":["/home/mujtaba/Desktop/SLI/QA-Forum/client/src/Actions/Auth.actions/loginUser.js"],"names":["axios","AUTH_FORM_SUCCESS","AUTH_FORM_FAIL","userLoaded","loginUser","userData","dispatch","config","headers","body","JSON","stringify","response","post","console","log","data","ClientResp","type","payload","error"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SACEC,iBADF,EAEEC,cAFF,QAGO,gCAHP;AAIA,SAASC,UAAT,QAA2B,uCAA3B;AAEA,OAAO,MAAMC,SAAS,GAAIC,QAAD,IAAc,MAAOC,QAAP,IAAoB;AACzD,MAAI;AACF,UAAMC,MAAM,GAAG;AACbC,MAAAA,OAAO,EAAE;AACP,wBAAgB;AADT;AADI,KAAf;AAMA,UAAMC,IAAI,GAAGC,IAAI,CAACC,SAAL,CAAeN,QAAf,CAAb;AAEA,UAAMO,QAAQ,GAAG,MAAMZ,KAAK,CAACa,IAAN,CACrB,sCADqB,EAErBJ,IAFqB,EAGrBF,MAHqB,CAAvB;AAMAO,IAAAA,OAAO,CAACC,GAAR,CAAYH,QAAZ;;AAEA,QAAIA,QAAQ,CAACI,IAAT,CAAcC,UAAlB,EAA8B;AAC5BX,MAAAA,QAAQ,CAAC;AACPY,QAAAA,IAAI,EAAEhB,cADC;AAEPiB,QAAAA,OAAO,EAAEP,QAAQ,CAACI,IAAT,CAAcC;AAFhB,OAAD,CAAR;AAIA,aAAOL,QAAQ,CAACI,IAAT,CAAcC,UAArB;AACD,KAND,MAMO;AACLX,MAAAA,QAAQ,CAAC;AACPY,QAAAA,IAAI,EAAEjB,iBADC;AAEPkB,QAAAA,OAAO,EAAEP,QAAQ,CAACI;AAFX,OAAD,CAAR;AAIAF,MAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ;AACAT,MAAAA,QAAQ,CAACH,UAAU,EAAX,CAAR;AACA,aAAO,SAAP;AACD,KA/BC,CAiCF;;AACD,GAlCD,CAkCE,OAAOiB,KAAP,EAAc;AACdd,IAAAA,QAAQ,CAAC;AACPY,MAAAA,IAAI,EAAEhB,cADC;AAEPiB,MAAAA,OAAO,EAAEC;AAFF,KAAD,CAAR;AAIAN,IAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBK,KAArB;AACD;AACF,CA1CM","sourcesContent":["import axios from \"axios\";\nimport {\n  AUTH_FORM_SUCCESS,\n  AUTH_FORM_FAIL,\n} from \"../../Constants/auth.constants\";\nimport { userLoaded } from \"../../Actions/Auth.actions/userLoaded\";\n\nexport const loginUser = (userData) => async (dispatch) => {\n  try {\n    const config = {\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n    };\n\n    const body = JSON.stringify(userData);\n\n    const response = await axios.post(\n      \"http://localhost:5000/api/user/login\",\n      body,\n      config\n    );\n\n    console.log(response);\n\n    if (response.data.ClientResp) {\n      dispatch({\n        type: AUTH_FORM_FAIL,\n        payload: response.data.ClientResp,\n      });\n      return response.data.ClientResp;\n    } else {\n      dispatch({\n        type: AUTH_FORM_SUCCESS,\n        payload: response.data,\n      });\n      console.log(\"user logged in\");\n      dispatch(userLoaded());\n      return \"success\";\n    }\n\n    //Error handeling\n  } catch (error) {\n    dispatch({\n      type: AUTH_FORM_FAIL,\n      payload: error,\n    });\n    console.log(\"error\", error);\n  }\n};\n"]},"metadata":{},"sourceType":"module"}